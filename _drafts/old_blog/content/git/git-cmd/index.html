<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="cache-control" content="no-cache">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Git常用命令</title>
    <link rel="stylesheet" href="../../../style.css">
    <link rel="stylesheet" href="contentStyle.css">
</head>

<body>
    <div class="head">
        <div class="header">
            <div class="name">
                <p>CC &nbsp &nbsp<small>Personal Blog</small></p>
            </div>
            <nav class="navigation">
                <ul>
                    <li><a href="../../../index.html">首页</a></li>
                    <li><a href="/about.html">关于</a></li>
                </ul>
            </nav>
        </div>
    </div>
    <div class="content">
        <div class="content-left">
            <h2>Git常用命令</h2>
            <small><i class="fa fa-calender"></i><span>2021-6-14</span><i
                    class="fa fa-th-list"></i><span>git</span></small>
            <hr>
            <article>
                <h3>git常用命令记录：</h3>
                <h4>设置用户信息</h4>
                <div class="code">
                    <pre class="pre-code"><code class="code-content">git config --global user.name "username"
git config --global user.email "email@qq.com"</code></pre>
                </div>
                <h4>查看配置信息</h4>
                <div class="code">
                    <pre class="pre-code"><code class="code-content">git config --list
git config user.name</code></pre>
                </div>
                <p>通过上面的命令设置的信息会保存在用户目录下的.gitconfig文件中</p>
                <h4>本地初始化仓库</h4>
                <p>1、在电脑的任意位置创建一个空目录（例如repo1）作为我们的本地Git仓库</p>
                <p>2、进入这个目录中，点击右键打开Git bash窗口</p>
                <p>3、执行命令git init</p>
                <p>如果在当前目录中看到.git文件夹（此文件夹为隐藏文件夹）则说明Git仓库创建成功</p>
                <h4>远程克隆仓库</h4>
                <div class="code">
                    <pre class="pre-code"><code class="code-content">git clone 远程Git仓库地址</code></pre>
                </div>
                <h4>本地仓库操作</h4>
                <h5>本地仓库包含三部分：</h5>
                <p>版本库：前面看到的.git隐藏文件夹就是版本库，版本库中存储了很多配置信息、日志信息和文件版本信息等</p>
                <p>工作目录（工作区）：包含.git文件夹的目录就是工作目录，主要用于存放开发的代码</p>
                <p>暂存区：.git文件夹中有很多文件，其中有一个index文件就是暂存区，也可以叫做stage。暂存区是一个临时保存修改文件的地方</p>
                <div class="picture">
                    <img src="image/git.png" alt="git本地仓库之间的关系">
                </div>
                <h5>1、查看文件状态</h5>
                <div class="code">
                    <pre class="pre-code"><code class="code-content">git status / git status -s </code></pre>
                </div>
                <h5>2、将未跟踪的文件加入暂存区</h5>
                <div class="code">
                    <pre class="pre-code"><code class="code-content">git add . / git add filename </code></pre>
                </div>
                <h5>3、将暂存区的文件取消暂存</h5>
                <div class="code">
                    <pre class="pre-code"><code class="code-content">git reset filename </code></pre>
                </div>
                <h5>4、将暂存区的文件修改提交到本地仓库</h5>
                <div class="code">
                    <pre class="pre-code"><code class="code-content">git commit -m "description" [filename] </code></pre>
                </div>
                <h5>5、删除文件</h5>
                <div class="code">
                    <pre class="pre-code"><code class="code-content">git rm  删除工作区文件，并且将这次删除放入暂存区。文件需要未修改，和版本库中的文件相同，如果文件已修改，需要使用-f 参数
git rm --cached  删除暂存区文件，但保留工作区的文件，并且将这次删除放入暂存区。
git commit删除版本库中的文件 </code></pre>
                </div>
                <h4>远程仓库操作</h4>
                <h5>1、查看远程仓库</h5>
                <div class="code">
                    <pre class="pre-code"><code class="code-content">git remote：列出每一个远程服务器的简写，默认仓库名为origin
git remote -v / git remote show origin 查看详细信息 </code></pre>
                </div>
                <h5>2、添加远程仓库</h5>
                <div class="code">
                    <pre class="pre-code"><code class="code-content">git remote add < shortname> < url> 添加一个新的远程 Git 仓库，同时指定一个可以引用的简写 </code></pre>
                </div>
                <h5>3、从远程仓库克隆</h5>
                <div class="code">
                    <pre class="pre-code"><code class="code-content">git clone [url] </code></pre>
                </div>
                <h5>4、移除无效的远程仓库</h5>
                <div class="code">
                    <pre class="pre-code"><code class="code-content">git remote rm  此命令只是从本地移除远程仓库的记录，并不会真正影响到远程仓库 </code></pre>
                </div>
                <h5>5、从远程仓库中抓取与拉取</h5>
                <div class="code">
                    <pre class="pre-code"><code class="code-content">git fetch 是从远程仓库获取最新版本到本地仓库，不会自动merge
git pull 是从远程仓库获取最新版本并merge到本地仓库 </code></pre>
                </div>
                <p>注意：如果当前本地仓库不是从远程仓库克隆，而是本地创建的仓库，并且仓库中存在文件，此时再从远程仓库拉取文件的时候会报错（fatal: refusing to merge unrelated histories ），解决此问题可以在git pull命令后加入参数–allow-unrelated-histories</p>
                <p>当执行git中的“git pull origin master –allow-unrelated-histories”命令时，会出现“ couldn’t find remote ref –allow-unrelated-histories”的错误</p>
                <p>输入如下命令即可解决：</p>
                <div class="code">
                    <pre class="pre-code"><code class="code-content">git pull --rebase origin master </code></pre>
                </div>
                <h5>6、将本地分支与远程分支关联</h5>
                <div class="code">
                    <pre class="pre-code"><code class="code-content">git branch --set-upstream-to origin/master master </code></pre>
                </div>
                <h5>7、推送到远程仓库</h5>
                <div class="code">
                    <pre class="pre-code"><code class="code-content">git push [remote-name] [branch-name] </code></pre>
                </div>
                <h4>git分支</h4>
                <p style="text-indent: 2em;">使用分支意味着你可以把你的工作从开发主线上分离开来，以免影响开发主线。Git 的master分支并不是一个特殊分支。 它跟其它分支没有区别。 之所以几乎每一个仓库都有 master 分支，是因为git init 命令默认创建它，并且大多数人都懒得去改动它。</p>
                <h5>1、查看分支</h5>
                <div class="code">
                    <pre class="pre-code"><code class="code-content">列出所有本地分支   git branch
列出所有远程分支  git branch -r
列出所有本地分支和远程分支  git branch -a </code></pre>
                </div>
                <h5>2、创建分支</h5>
                <div class="code">
                    <pre class="pre-code"><code class="code-content">git branch [branch_name] </code></pre>
                </div>
                <h5>3、切换分支</h5>
                <div class="code">
                    <pre class="pre-code"><code class="code-content">git checkout [branch_name] </code></pre>
                </div>
                <h5>4、推送至远程仓库分支</h5>
                <div class="code">
                    <pre class="pre-code"><code class="code-content">git push origin [branch_name] </code></pre>
                </div>
                <h5>5、合并分支</h5>
                <div class="code">
                    <pre class="pre-code"><code class="code-content">git merge [branch_name] </code></pre>
                </div>
                <h5>6、删除分支</h5>
                <div class="code">
                    <pre class="pre-code"><code class="code-content">git branch -d [branch_name]
如果要删除的分支中进行了一些开发动作，此时执行上面的删除命令并不会删除分支，如果坚持要删除此分支，可以将命令中的-d参数改为-D </code></pre>
                </div>
                <h4>git标签</h4>
                <h5>1、列出已有的标签</h5>
                <div class="code">
                    <pre class="pre-code"><code class="code-content">列出所有tag：git tag
查看tag信息：git show [tag] </code></pre>
                </div>
                <h5>2、创建新标签</h5>
                <div class="code">
                    <pre class="pre-code"><code class="code-content">git tag [tagName] </code></pre>
                </div>
                <h5>3、提交指定tag</h5>
                <div class="code">
                    <pre class="pre-code"><code class="code-content">git push [remote] [tag] </code></pre>
                </div>
                <h5>4、新建一个分支，指向某个tag</h5>
                <div class="code">
                    <pre class="pre-code"><code class="code-content">git checkout -b [branch] [tag] </code></pre>
                </div>
                <h5>5、删除本地tag</h5>
                <div class="code">
                    <pre class="pre-code"><code class="code-content">git tag -d [tag] </code></pre>
                </div>
                <h5>6、删除远程tag</h5>
                <div class="code">
                    <pre class="pre-code"><code class="code-content">git push origin :refs/tags/[tag] </code></pre>
                </div>
                <hr style="border: 1px solid red;">
                <p style="color:red;">--参考文档：<a>https://blog.csdn.net/qq_37883866/article/details/105349257</a></p>
                
        </div>
</body>
</html>
